---
nav:
  title: åŸç†åˆ†æ
  order: 2
group:
  title: åº•å±‚åŸç†
  order: 2
title: Compilation
order: 6
---

# Compilation

`Compilation` æ¨¡å—ä¼šè¢« `Compiler` ç”¨æ¥åˆ›å»ºæ–°çš„ç¼–è¯‘ï¼ˆæˆ–æ–°çš„æ„å»ºï¼‰ã€‚`compilation` å®ä¾‹èƒ½å¤Ÿè®¿é—®æ‰€æœ‰çš„æ¨¡å—å’Œå®ƒä»¬çš„ä¾èµ–ï¼ˆå¤§éƒ¨åˆ†æ˜¯å¾ªç¯ä¾èµ–ï¼‰ã€‚å®ƒä¼šå¯¹åº”ç”¨ç¨‹åºçš„ä¾èµ–å›¾ä¸­æ‰€æœ‰æ¨¡å—è¿›è¡Œå­—é¢ä¸Šçš„ **ç¼–è¯‘ï¼ˆiteral compilationï¼‰**ã€‚åœ¨ç¼–è¯‘é˜¶æ®µï¼Œæ¨¡å—ä¼šè¢« **åŠ è½½ï¼ˆloadedï¼‰**ã€**å°å­˜ï¼ˆsealedï¼‰**ã€**ä¼˜åŒ–ï¼ˆoptimizedï¼‰**ã€**åˆ†å—ï¼ˆchunkedï¼‰**ã€**å“ˆå¸Œï¼ˆhashedï¼‰** å’Œ **é‡æ–°åˆ›å»ºï¼ˆrestoredï¼‰**ã€‚

`Compilation` ç±»æ‰©å±•ï¼ˆextendï¼‰è‡ª `Tapable`ï¼Œå¹¶æä¾›äº†ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚å¯ä»¥æŒ‰ç…§ `compiler` é’©å­çš„ç›¸åŒæ–¹å¼ï¼Œè°ƒç”¨ `tap`ï¼š

```js
compilation.hooks.someHook.tap(...)
```

å’Œ `compiler` ç”¨æ³•ç›¸åŒï¼Œå–å†³äºä¸åŒçš„é’©å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥åœ¨æŸäº›é’©å­ä¸Šè®¿é—® `tapAsync` å’Œ `tapPromise`ã€‚

| äº‹ä»¶åç§°                       | å†…å®¹è¯´æ˜                                                                                                                                                                                 | å‚æ•°                                               | ç±»å‹          |
| ------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------- | ------------- |
| `buildModule`                  | åœ¨æ¨¡å—æ„å»ºå¼€å§‹ä¹‹å‰è§¦å‘                                                                                                                                                                   | `module`                                           | Sync          |
| `rebuildModule`                | åœ¨é‡æ–°æ„å»ºæ¨¡å—ä¹‹å‰è§¦å‘                                                                                                                                                                   | `module`                                           | Sync          |
| `failModule`                   | æ¨¡å—æ„å»ºå¤±è´¥æ—¶æ‰§è¡Œ                                                                                                                                                                       | `module` `error`                                   | Sync          |
| `succeedModule`                | æ¨¡å—æ„å»ºæˆåŠŸæ—¶æ‰§è¡Œ                                                                                                                                                                       | `module`                                           | Sync          |
| `finishModules`                | æ‰€æœ‰æ¨¡å—éƒ½å®Œæˆæ„å»º                                                                                                                                                                       | `modules`                                          | Sync          |
| `finishRebuildingModule`       | æ¨¡å—å®Œæˆé‡æ–°æ„å»º                                                                                                                                                                         | `module`                                           | Sync          |
| `seal`                         | compilation åœæ­¢æ¥æ”¶æ–°æ¨¡å—æ—¶è§¦å‘                                                                                                                                                         | -                                                  | Sync          |
| `unseal`                       | compilation å¼€å§‹æ¥æ”¶æ–°æ¨¡å—æ—¶è§¦å‘                                                                                                                                                         | -                                                  | Sync          |
| `optimizeDependenciesBasic`    | -                                                                                                                                                                                        | `modules`                                          | SyncBail      |
| `optimizeDependencies`         | ä¾èµ–ä¼˜åŒ–å¼€å§‹æ—¶è§¦å‘                                                                                                                                                                       | `modules`                                          | SyncBail      |
| `optimizeDependenciesAdvanced` | -                                                                                                                                                                                        | `modules`                                          | SyncBail      |
| `afterOptimizeDependencies`    | -                                                                                                                                                                                        | `modules`                                          | Sync          |
| `optimize`                     | ä¼˜åŒ–é˜¶æ®µå¼€å§‹è§¦å‘                                                                                                                                                                         | -                                                  | Sync          |
| `optimizeModulesBasic`         | -                                                                                                                                                                                        | `modules`                                          | SyncBail      |
| `optimizeModules`              | -                                                                                                                                                                                        | `modules`                                          | SyncBail      |
| `optimizeModulesAdvanced`      | -                                                                                                                                                                                        | `modules`                                          | SyncBail      |
| `afterOptimizeModules`         | -                                                                                                                                                                                        | `modules`                                          | Sync          |
| `optimizeChunksBasic`          | -                                                                                                                                                                                        | `chunks`                                           | SyncBail      |
| `optimizeChunks`               | -                                                                                                                                                                                        | `chunks`                                           | SyncBail      |
| `optimizeChunksAdavanced`      | -                                                                                                                                                                                        | `chunks`                                           | SyncBail      |
| `afterOptimizeChunks`          | chunk ä¼˜åŒ–å®Œæˆä¹‹åè§¦å‘                                                                                                                                                                   | `chunks` `modules`                                 | Sync          |
| `optimizeTree`                 | å¼‚æ­¥ä¼˜åŒ–ä¾èµ–æ ‘                                                                                                                                                                           | `chunks` `modules`                                 | AsyncSeries   |
| `afterOptimizeTree`            | -                                                                                                                                                                                        | `chunks` `modules`                                 | Sync          |
| `optimizeChunkModulesBasic`    | -                                                                                                                                                                                        | `chunks` `modules`                                 | SyncBail      |
| `optimizeChunkModules`         | -                                                                                                                                                                                        | `chunks` `modules`                                 | Sync          |
| `optimizeChunkModulesAdvanced` | -                                                                                                                                                                                        | `chunks` `modules`                                 | SyncBail      |
| `afterOptimizeChunkModules`    | -                                                                                                                                                                                        | `chunks` `modules`                                 | Sync          |
| `shouldRecord`                 | -                                                                                                                                                                                        | -                                                  | SyncBail      |
| `reviveModules`                | ä» records ä¸­æ¢å¤æ¨¡å—ä¿¡æ¯                                                                                                                                                                | `modules` `record`                                 | Sync          |
| `optimizeModuleOrder`          | å°†æ¨¡å—ä»æœ€é‡è¦çš„æœ€ä¸é‡è¦çš„è¿›è¡Œæ’åº                                                                                                                                                       | `modules`                                          | Sync          |
| `advancedOptimizeModuleOrder`  | -                                                                                                                                                                                        | `modules`                                          | Sync          |
| `beforeModuleIds`              | -                                                                                                                                                                                        | `modules`                                          | Sync          |
| `moduleIds`                    | -                                                                                                                                                                                        | `modules`                                          | Sync          |
| `optimizeModuleIds`            | -                                                                                                                                                                                        | `chunks`                                           | Sync          |
| `afterOptimizeModuleIds`       | -                                                                                                                                                                                        | `chunks`                                           | Sync          |
| `reviveChunks`                 | ä» records ä¸­æ¢å¤ chunk ä¿¡æ¯                                                                                                                                                             | `modules` å’Œ `records`                             | Sync          |
| `optimizeChunkOrder`           | å°† chunk ä»æœ€é‡è¦çš„åˆ°æœ€ä¸é‡è¦çš„è¿›è¡Œæ’åº                                                                                                                                                  | `chunks`                                           | Sync          |
| `beforeOptimizeChunkIds`       | chunk id ä¼˜åŒ–ä¹‹å‰è§¦å‘                                                                                                                                                                    | `chunks`                                           | Sync          |
| `optimizeChunkIds`             | ä¼˜åŒ–æ¯ä¸ª chunk çš„ id                                                                                                                                                                     | `chunks`                                           | Sync          |
| `afterOptimizeChunkIds`        | chunk id ä¼˜åŒ–å®Œæˆä¹‹åè§¦å‘                                                                                                                                                                | `chunks`                                           | Sync          |
| `recordModules`                | å°†æ¨¡å—ä¿¡æ¯å­˜å‚¨åˆ° records                                                                                                                                                                 | `modules` å’Œ `records`                             | Sync          |
| `recordChunks`                 | å°† chunk ä¿¡æ¯å­˜å‚¨åˆ° records                                                                                                                                                              | `chunks` å’Œ `records`                              | Sync          |
| `beforeHash`                   | åœ¨ç¼–è¯‘è¢«å“ˆå¸Œä¹‹å‰                                                                                                                                                                         | -                                                  | Sync          |
| `afterHash`                    | åœ¨ç¼–è¯‘è¢«å“ˆå¸Œä¹‹å                                                                                                                                                                         | -                                                  | Sync          |
| `recordHash`                   | -                                                                                                                                                                                        | `records`                                          | Sync          |
| `record`                       | å°† compliaztion ç›¸å…³ä¿¡æ¯å­˜å‚¨åˆ° records ä¸­                                                                                                                                                | `compilation` å’Œ `records`                         | Sync          |
| `beforeModuleAssets`           | -                                                                                                                                                                                        | -                                                  | Sync          |
| `shouldGenerateChunkAssets`    | -                                                                                                                                                                                        | -                                                  | SyncBail      |
| `beforeChunkAssets`            | åœ¨åˆ›å»º chunk èµ„æºï¼ˆassetsï¼‰ä¹‹å‰                                                                                                                                                          | -                                                  | Sync          |
| `additionalChunkAssets`        | ä¸º chunk åˆ›å»ºé™„åŠ èµ„æºï¼ˆassetï¼‰                                                                                                                                                           | `chunks`                                           | Sync          |
| `recordss`                     | -                                                                                                                                                                                        | `compilation` å’Œ `records`                         | Sync          |
| `additionalAssets`             | ä¸º compilation åˆ›å»ºé™„åŠ èµ„æºï¼ˆassetï¼‰è¿™ä¸ªé’©å­å¯ä»¥ç”¨æ¥ä¸‹è½½å›¾åƒã€‚                                                                                                                           | -                                                  | AsyncSeries   |
| `optimizeChunkAssets`          | ä¼˜åŒ–æ‰€æœ‰ chunk èµ„æºï¼ˆassetï¼‰ã€‚èµ„æºä¼šè¢«å­˜å‚¨åœ¨ `compilation.assets`ã€‚æ¯ä¸ª Chunk éƒ½æœ‰ä¸€ä¸ª files å±æ€§ï¼ŒæŒ‡å‘è¿™ä¸ª chunk æ‰€åˆ›å»ºçš„æ‰€æœ‰æ–‡ä»¶ã€‚é™„åŠ èµ„æºè¢«å­˜å‚¨åœ¨ `compilation.additionalChunkAssets` | `chunks`                                           | AsyncSeries   |
| `afterOptimizeChunkAssets`     | chunk èµ„æºï¼ˆAssetï¼‰å·²ç»è¢«ä¼˜åŒ–                                                                                                                                                            | `chunks`                                           | Sync          |
| `optimizeAssets`               | ä¼˜åŒ–å­˜å‚¨åœ¨ `compilation.assets` ä¸­çš„æ‰€æœ‰èµ„æºï¼ˆAssetï¼‰                                                                                                                                    | `assets`                                           | AsyncSeries   |
| `afterOptimizeAssets`          | èµ„æºä¼˜åŒ–å·²ç»ç»“æŸ                                                                                                                                                                         | `assets`                                           | Sync          |
| `needAdditionalSeal`           | -                                                                                                                                                                                        | -                                                  | SyncBail      |
| `afterSeal`                    | -                                                                                                                                                                                        | -                                                  | AsyncSeries   |
| `chunkHash`                    | -                                                                                                                                                                                        | `chunk` å’Œ `chunkHash`                             | Sync          |
| `moduleAsset`                  | ä¸€ä¸ªæ¨¡å—ä¸­çš„ä¸€ä¸ªèµ„æºè¢«æ·»åŠ åˆ°ç¼–è¯‘ä¸­                                                                                                                                                       | `module` å’Œ `filename`                             | Sync          |
| `chunkAsset`                   | ä¸€ä¸ª chunk ä¸­çš„ä¸€ä¸ªèµ„æºè¢«æ·»åŠ åˆ°ç¼–è¯‘ä¸­                                                                                                                                                    | `chunk` å’Œ `filename`                              | Sync          |
| `assetPath`                    | -                                                                                                                                                                                        | `filename` å’Œ `data`                               | SyncWaterfall |
| `needAdditionalPass`           | -                                                                                                                                                                                        | -                                                  | SyncBail      |
| `childCompiler`                | -                                                                                                                                                                                        | `childCompiler`ã€`compilerName` å’Œ `compilerIndex` | SyncHook      |
| `normalModuleLoader`           | æ™®é€šæ¨¡å— loaderï¼ŒçœŸæ­£ï¼ˆä¸€ä¸ªæ¥ä¸€ä¸ªåœ°ï¼‰åŠ è½½æ¨¡å—å›¾ï¼ˆGraphï¼‰ä¸­æ‰€æœ‰æ¨¡å—çš„å‡½æ•°                                                                                                                 | `loaderContext` å’Œ `module`                        | Sync          |

---

**å‚è€ƒèµ„æ–™ï¼š**

- [ğŸ“– Compilation](https://webpack.docschina.org/api/compilation/)
