# Entry å…¥å£èµ·ç‚¹

ğŸ“Œ Webpack é…ç½®å¿…å¡«é¡¹ã€‚[æ–‡æ¡£ä¼ é€é—¨](https://webpack.docschina.org/concepts/entry-points)

* èµ·ç‚¹æˆ–æ˜¯åº”ç”¨ç¨‹åºçš„èµ·ç‚¹å…¥å£ã€‚
* ä»è¿™ä¸ªèµ·ç‚¹å¼€å§‹ï¼Œåº”ç”¨ç¨‹åºå¯åŠ¨æ‰§è¡Œã€‚
* å¦‚æœä¼ é€’ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆæ•°ç»„çš„æ¯ä¸€é¡¹éƒ½ä¼šæ‰§è¡Œã€‚
* ğŸ“Œ <u>åŠ¨æ€åŠ è½½</u>çš„æ¨¡å—**ä¸æ˜¯**å…¥å£èµ·ç‚¹ã€‚

ç®€å•è§„åˆ™ï¼šæ¯ä¸ª HTML é¡µé¢éƒ½æœ‰ä¸€ä¸ªå…¥å£èµ·ç‚¹ã€‚

å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ï¼šä¸€ä¸ªå…¥å£èµ·ç‚¹ã€‚

å¤šé¡µåº”ç”¨ï¼ˆMPAï¼‰ï¼šå¤šä¸ªå…¥å£èµ·ç‚¹ã€‚

## Context

Webpack å¯»æ‰¾ç›¸å¯¹è·¯å¾„çš„æ–‡ä»¶æ—¶ä¼šä»¥ context ä¸ºæ ¹ç›®å½•ï¼Œé»˜è®¤ä¸ºæ‰§è¡Œå¯åŠ¨ Webpack æ—¶æ‰€åœ¨å½“å‰å·¥ä½œç›®å½•ã€‚

context å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„å­—ç¬¦ä¸²ã€‚

```js
module.exports = {
    context: path.resolve(__dirname, 'app')
}
```

Entry è·¯å¾„åŠå…¶ä¾èµ–çš„æ¨¡å—çš„è·¯å¾„å¯èƒ½é‡‡ç”¨ç›¸å¯¹äº context çš„è·¯å¾„æ¥æè¿°ï¼Œcontext ä¼šå½±å“åˆ°è¿™äº›ç›¸å¯¹è·¯å¾„æ‰€æŒ‡å‘çš„çœŸå®æ–‡ä»¶ã€‚

## Entry ç±»å‹

| ç±»å‹   | ä¾‹å­                               | å«ä¹‰                                 |
| ------ | ---------------------------------- | ------------------------------------ |
| string | `./app/entry`                      | å…¥å£æ¨¡å—çš„æ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥ä½¿ç›¸å¯¹è·¯å¾„   |
| array  | `['./app/entry', './app/index']`   | å…¥å£æ¨¡å—çš„æ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥ä½¿ç›¸å¯¹è·¯å¾„   |
| object | `{a: 'main', b: ['index', 'app']}` | é…ç½®å¤šä¸ªå…¥å£ï¼Œæ¯ä¸ªå…¥å£å£°ç§°ä¸€ä¸ª Chunk |

å¦‚æœæ˜¯ array ç±»å‹ï¼Œåˆ™æ­é… `output.library` é…ç½®é¡¹ä½¿ç”¨æ—¶ï¼Œåªæœ‰æ•°ç»„é‡Œçš„æœ€åä¸€ä¸ªå…¥å£æ–‡ä»¶çš„æ¨¡å—ä¼šè¢«å¯¼å‡ºã€‚

å¦‚æœæ˜¯ objct ç±»å‹ï¼Œåˆ™ entry ä¸ºå¯æ‰©å±•çš„é…ç½®ã€‚å¯é‡ç”¨å¹¶ä¸”å¯ä»¥ä¸å…¶ä»–é…ç½®ç»„åˆä½¿ç”¨ã€‚è¿™æ˜¯ä¸€ç§æµè¡Œçš„æŠ€æœ¯ï¼Œç”¨äºå°†å…³æ³¨ç‚¹ï¼ˆconcernï¼‰ä»ç¯å¢ƒï¼ˆenvironmentï¼‰ã€æ„å»ºç›®æ ‡ï¼ˆbuild targetï¼‰ã€è¿è¡Œæ—¶ï¼ˆruntimeï¼‰ä¸­åˆ†ç¦»ã€‚ç„¶åä½¿ç”¨ä¸“é—¨çš„å·¥å…·ï¼ˆå¦‚Â [webpack-merge](https://github.com/survivejs/webpack-merge)ï¼‰å°†å®ƒä»¬åˆå¹¶ã€‚

## Chunk å‘½å

å¦‚æœä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°ç»„ï¼Œchunk ä¼šè¢«å‘½åä¸ºÂ `main`ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™æ¯ä¸ªé”®ï¼ˆkeyï¼‰ä¼šæ˜¯ **chunk** çš„åç§°ï¼Œè¯¥å€¼æè¿°äº† **chunk** çš„å…¥å£èµ·ç‚¹ã€‚

* å¦‚æœ entry æ˜¯ä¸€ä¸ª string æˆ– arrayï¼Œå°±åªä¼šå£°ç§°ä¸€ä¸ª Chunkï¼Œè¿™æ—¶ Chunk çš„åç§°æ˜¯ main
* å¦‚æœ entry æ˜¯ä¸€ä¸ª objectï¼Œå°±å¯èƒ½ä¼šå‡ºç°å¤šä¸ª Chunkï¼Œè¿™æ—¶ Chunk çš„åç§°æ˜¯ object é”®å€¼ä¸­é”®çš„åç§°

## åŠ¨æ€å…¥å£

```js
// åŒæ­¥å‡½æ•°
module.exports = {
    // ...
    entry: () => './demo'
}

// å¼‚æ­¥å‡½æ•°
module.exports = {
    entrt: () => new Promise(resolve => {
        resolve({
            a: './page/a',
            b: './page/b'
        })
    })
}
```

## å¸¸è§åœºæ™¯

* åˆ†ç¦»åº”ç”¨ç¨‹åºå’Œç¬¬ä¸‰æ–¹åº“å…¥å£ [ä¼ é€é—¨](https://webpack.docschina.org/concepts/entry-points#%E5%88%86%E7%A6%BB-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F-app-%E5%92%8C-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93-vendor-%E5%85%A5%E5%8F%A3)
* å¤šé¡µé¢åº”ç”¨ç¨‹åº [ä¼ é€é—¨](https://webpack.docschina.org/concepts/entry-points#%E5%A4%9A%E9%A1%B5%E9%9D%A2%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F)