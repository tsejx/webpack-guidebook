<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/webpack-guidebook/umi.css" />
    <script>
      window.routerBase = "/webpack-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.20
    </script>
    <title>Grunt</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//">Webpack Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary">åŸºæœ¬ç»¼è¿°</a><a href="/webpack-guidebook//principle-analysis">åŸç†åˆ†æ</a><a href="/webpack-guidebook//best-practice">æœ€ä½³å®è·µ</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//"></a><h1>Webpack Guidebook</h1><p>Webpack å®Œå…¨çŸ¥è¯†ä½“ç³»</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary">åŸºæœ¬ç»¼è¿°</a></li><li><a href="/webpack-guidebook//principle-analysis">åŸç†åˆ†æ</a></li><li><a href="/webpack-guidebook//best-practice">æœ€ä½³å®è·µ</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary/basic-concepts">åŸºæœ¬æ¦‚å¿µ</a><ul><li><a href="/webpack-guidebook//basic-summary/basic-concepts/modularization"><span>æ¨¡å—åŒ–</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/build-tool"><span>æ„å»ºå·¥å…·</span></a></li><li><a aria-current="page" class="active" href="/webpack-guidebook//basic-summary/basic-concepts/grunt"><span>Grunt</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/gulp"><span>Gulp</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/rollup"><span>Rollup</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/parcel"><span>Parcel</span></a></li><li><a href="/webpack-guidebook//basic-summary/basic-concepts/webpack"><span>Webpack</span></a></li></ul></li><li><a href="/webpack-guidebook//basic-summary/core-concepts">æ ¸å¿ƒæ¦‚å¿µ</a><ul><li><a href="/webpack-guidebook//basic-summary/core-concepts/mode"><span>mode æ¨¡å¼</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/entry"><span>entry è¾“å…¥</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/output"><span>output è¾“å‡º</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/resolve"><span>resolve è§£æ</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/module"><span>module æ¨¡å—</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/plugins"><span>plugins æ’ä»¶</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/dev-server"><span>devServer å¼€å‘æœåŠ¡å™¨</span></a></li><li><a href="/webpack-guidebook//basic-summary/core-concepts/other-options"><span>otherOptions å…¶ä»–é…ç½®</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="Gruntfile" data-depth="2" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#gruntfile"><span>Gruntfile</span></a></li><li title="æ–‡ä»¶æ¡ˆä¾‹" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#æ–‡ä»¶æ¡ˆä¾‹"><span>æ–‡ä»¶æ¡ˆä¾‹</span></a></li><li title="åŒ…è£…å‡½æ•°" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#åŒ…è£…å‡½æ•°"><span>åŒ…è£…å‡½æ•°</span></a></li><li title="é¡¹ç›®å’Œä»»åŠ¡é…ç½®" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#é¡¹ç›®å’Œä»»åŠ¡é…ç½®"><span>é¡¹ç›®å’Œä»»åŠ¡é…ç½®</span></a></li><li title="åŠ è½½ Grunt æ’ä»¶å’Œä»»åŠ¡" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#åŠ è½½-grunt-æ’ä»¶å’Œä»»åŠ¡"><span>åŠ è½½ Grunt æ’ä»¶å’Œä»»åŠ¡</span></a></li><li title="è‡ªå®šä¹‰ä»»åŠ¡" data-depth="3" class=""><a href="/webpack-guidebook//basic-summary/basic-concepts/grunt#è‡ªå®šä¹‰ä»»åŠ¡"><span>è‡ªå®šä¹‰ä»»åŠ¡</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="grunt"><a aria-hidden="true" href="#grunt"><span class="icon icon-link"></span></a>Grunt</h1><p>Grunt æ˜¯åŸºäº Node.js çš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®é™…ä¸Šå®ƒä¹Ÿæ˜¯ä¸€ä¸ª <strong>ä»»åŠ¡è¿è¡Œå™¨</strong>ï¼ˆTask Runnerï¼‰ï¼Œå¯ç”¨äºè‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€ç”Ÿæˆæ–‡æ¡£çš„é¡¹ç›®å·¥å…·ã€‚</p><p>Grunt é€šè¿‡ <code>grunt</code> å¯¹è±¡æš´éœ²æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ï¼Œå¹¶å°†æ­¤å¯¹è±¡èµ‹äºˆ <code>module.exports</code> å‡½æ•°ï¼Œè¿™äº›æ–¹æ³•å’Œå±æ€§éƒ½å°†ä¼ é€’åˆ°ä½ çš„ Gruntfileã€Grunt æ’ä»¶æˆ–è€… <code>task</code> æ–‡ä»¶ä¸­ã€‚</p><p>æ‰€æœ‰çš„æ–¹æ³•å‡ ä¹éƒ½æ˜¯åœ¨åˆ«å¤„å®šä¹‰çš„ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œä¹Ÿåœ¨ <code>grunt</code> å¯¹è±¡ä¸­åšäº†å®šä¹‰ã€‚è¯¦ç»†çš„è§£é‡Šå’Œæ¡ˆä¾‹è¯·å‚é˜…å„ä¸ª <a href="https://www.gruntjs.net/api/grunt" target="_blank" rel="noopener noreferrer">API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å•ç‹¬çš„æ–‡æ¡£ã€‚</p><h2 id="gruntfile"><a aria-hidden="true" href="#gruntfile"><span class="icon icon-link"></span></a>Gruntfile</h2><p><code>Gruntfile.js</code> æˆ– <code>Gruntfile.coffee</code> æ–‡ä»¶æ˜¯æœ‰æ•ˆçš„ JavaScript æˆ– CoffeeScript æ–‡ä»¶ï¼Œåº”å½“æ”¾åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œå’Œ <code>package.json</code> æ–‡ä»¶åœ¨åŒä¸€ç›®å½•å±‚çº§ï¼Œå¹¶å’Œé¡¹ç›®æºç ä¸€èµ·åŠ å…¥æºç ç®¡ç†å™¨ã€‚</p><p>Gruntfile ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†æ„æˆï¼š</p><ul><li><code>&quot;wrapper&quot;</code> å‡½æ•°</li><li>é¡¹ç›®ä¸ä»»åŠ¡é…ç½®</li><li>åŠ è½½ Grunt æ’ä»¶å’Œä»»åŠ¡</li><li>è‡ªå®šä¹‰ä»»åŠ¡</li></ul><h3 id="æ–‡ä»¶æ¡ˆä¾‹"><a aria-hidden="true" href="#æ–‡ä»¶æ¡ˆä¾‹"><span class="icon icon-link"></span></a>æ–‡ä»¶æ¡ˆä¾‹</h3><p>åœ¨ä¸‹é¢åˆ—å‡ºçš„è¿™ä¸ª Gruntfile ä¸­ï¼Œ<code>package.json</code> æ–‡ä»¶ä¸­çš„é¡¹ç›®å…ƒæ•°æ®ï¼ˆmetadataï¼‰è¢«å¯¼å…¥åˆ° Grunt é…ç½®ä¸­ï¼Œ <code>grunt-contrib-uglify</code> æ’ä»¶ä¸­çš„ <code>uglify</code> ä»»åŠ¡ï¼ˆtaskï¼‰è¢«é…ç½®ä¸ºå‹ç¼©ï¼ˆminifyï¼‰æºç æ–‡ä»¶å¹¶ä¾æ®ä¸Šè¿°å…ƒæ•°æ®åŠ¨æ€ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤´æ³¨é‡Šã€‚å½“åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ <code>grunt</code> å‘½ä»¤æ—¶ï¼Œ<code>uglify</code> ä»»åŠ¡å°†è¢«é»˜è®¤æ‰§è¡Œã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = function(grunt) {
  // é¡¹ç›®åˆå§‹åŒ–é…ç½®
  grunt.initConfig({
    pkg: grunt.file.readJSON(&#x27;package.json&#x27;),
    uglify: {
      options: {
        banner: &#x27;/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n&#x27;,
      },
      build: {
        src: &#x27;src/&lt;%= pkg.name %&gt;.js&#x27;,
        dest: &#x27;build/&lt;%= pkg.name %&gt;.min.js&#x27;,
      },
    },
  });

  // åŠ è½½åŒ…å« &quot;uglify&quot; ä»»åŠ¡çš„æ’ä»¶ã€‚
  grunt.loadNpmTasks(&#x27;grunt-contrib-uglify&#x27;);

  // é»˜è®¤è¢«æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚
  grunt.registerTask(&#x27;default&#x27;, [&#x27;uglify&#x27;]);
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grunt</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// é¡¹ç›®åˆå§‹åŒ–é…ç½®</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  grunt</span><span class="token punctuation">.</span><span class="token method function property-access">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    pkg</span><span class="token punctuation">:</span><span class="token plain"> grunt</span><span class="token punctuation">.</span><span class="token property-access">file</span><span class="token punctuation">.</span><span class="token method function property-access">readJSON</span><span class="token punctuation">(</span><span class="token string">&#x27;package.json&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    uglify</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      options</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        banner</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      build</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        src</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;src/&lt;%= pkg.name %&gt;.js&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        dest</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;build/&lt;%= pkg.name %&gt;.min.js&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// åŠ è½½åŒ…å« &quot;uglify&quot; ä»»åŠ¡çš„æ’ä»¶ã€‚</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  grunt</span><span class="token punctuation">.</span><span class="token method function property-access">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">&#x27;grunt-contrib-uglify&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// é»˜è®¤è¢«æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  grunt</span><span class="token punctuation">.</span><span class="token method function property-access">registerTask</span><span class="token punctuation">(</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;uglify&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="åŒ…è£…å‡½æ•°"><a aria-hidden="true" href="#åŒ…è£…å‡½æ•°"><span class="icon icon-link"></span></a>åŒ…è£…å‡½æ•°</h3><p>æ¯ä¸€ä»½ Gruntfile ï¼ˆå’Œ Grunt æ’ä»¶ï¼‰éƒ½éµå¾ªåŒæ ·çš„æ ¼å¼ï¼Œä½ æ‰€ä¹¦å†™çš„ Grunt ä»£ç å¿…é¡»æ”¾åœ¨æ­¤å‡½æ•°å†…ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = function(grunt) {
  // Do grunt-related things in here
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grunt</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// Do grunt-related things in here</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="é¡¹ç›®å’Œä»»åŠ¡é…ç½®"><a aria-hidden="true" href="#é¡¹ç›®å’Œä»»åŠ¡é…ç½®"><span class="icon icon-link"></span></a>é¡¹ç›®å’Œä»»åŠ¡é…ç½®</h3><p>å¤§éƒ¨åˆ†çš„ Grunt ä»»åŠ¡éƒ½ä¾èµ–æŸäº›é…ç½®æ•°æ®ï¼Œè¿™äº›æ•°æ®è¢«å®šä¹‰åœ¨ä¸€ä¸ª <code>object</code> å†…ï¼Œå¹¶ä¼ é€’ç»™ <code>grunt.initConfig</code> æ–¹æ³•ã€‚</p><p>åœ¨ä¸‹é¢çš„æ¡ˆä¾‹ä¸­ï¼Œ<code>grunt.file.readJSON(&#x27;package.json&#x27;)</code> å°†å­˜å‚¨åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­çš„ JSON å…ƒæ•°æ®å¼•å…¥åˆ° <code>grunt config</code> ä¸­ã€‚ ç”±äº <code>&lt;% %&gt;</code> æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥å¼•ç”¨ä»»æ„çš„é…ç½®å±æ€§ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥æŒ‡å®šè¯¸å¦‚æ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶åˆ—è¡¨ç±»å‹çš„é…ç½®æ•°æ®ï¼Œä»è€Œå‡å°‘ä¸€äº›é‡å¤çš„å·¥ä½œã€‚</p><p>ä½ å¯ä»¥åœ¨è¿™ä¸ªé…ç½®å¯¹è±¡ä¸­ï¼ˆä¼ é€’ç»™ <code>initConfig()</code>æ–¹æ³•çš„å¯¹è±¡ï¼‰å­˜å‚¨ä»»æ„çš„æ•°æ®ï¼Œåªè¦å®ƒä¸ä¸ä½ ä»»åŠ¡é…ç½®æ‰€éœ€çš„å±æ€§å†²çªï¼Œå¦åˆ™ä¼šè¢«å¿½ç•¥ã€‚æ­¤å¤–ï¼Œç”±äºè¿™æœ¬èº«å°±æ˜¯ JavaScriptï¼Œä½ ä¸ä»…é™äºä½¿ç”¨ JSONï¼›ä½ å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨ä»»æ„çš„æœ‰æ•ˆçš„ JS ä»£ç ã€‚å¦‚æœæœ‰å¿…è¦ï¼Œä½ ç”šè‡³å¯ä»¥ä»¥ç¼–ç¨‹çš„æ–¹å¼ç”Ÿæˆé…ç½®ã€‚</p><p>ä¸å¤§å¤šæ•° task ä¸€æ ·ï¼Œ<code>grunt-contrib-uglify</code> æ’ä»¶ä¸­çš„ <code>uglify</code> ä»»åŠ¡è¦æ±‚å®ƒçš„é…ç½®è¢«æŒ‡å®šåœ¨ä¸€ä¸ªåŒåå±æ€§ä¸­ã€‚åœ¨è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­, æˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ª <code>banner</code> é€‰é¡¹(ç”¨äºåœ¨æ–‡ä»¶é¡¶éƒ¨ç”Ÿæˆä¸€ä¸ªæ³¨é‡Š)ï¼Œç´§æ¥ç€æ˜¯ä¸€ä¸ªå•ä¸€çš„åä¸º <code>build</code> çš„ <code>uglify</code> ç›®æ ‡ï¼Œç”¨äºå°†ä¸€ä¸ª JS æ–‡ä»¶å‹ç¼©ä¸ºä¸€ä¸ªç›®æ ‡æ–‡ä»¶ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// Project configuration.
grunt.initConfig({
  pkg: grunt.file.readJSON(&#x27;package.json&#x27;),
  uglify: {
    options: {
      banner: &#x27;/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n&#x27;,
    },
    build: {
      src: &#x27;src/&lt;%= pkg.name %&gt;.js&#x27;,
      dest: &#x27;build/&lt;%= pkg.name %&gt;.min.js&#x27;,
    },
  },
});
" data-status="copy"></button><div class="token-line"><span class="token comment">// Project configuration.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">grunt</span><span class="token punctuation">.</span><span class="token method function property-access">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  pkg</span><span class="token punctuation">:</span><span class="token plain"> grunt</span><span class="token punctuation">.</span><span class="token property-access">file</span><span class="token punctuation">.</span><span class="token method function property-access">readJSON</span><span class="token punctuation">(</span><span class="token string">&#x27;package.json&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  uglify</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    options</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      banner</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    build</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      src</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;src/&lt;%= pkg.name %&gt;.js&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      dest</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;build/&lt;%= pkg.name %&gt;.min.js&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="åŠ è½½-grunt-æ’ä»¶å’Œä»»åŠ¡"><a aria-hidden="true" href="#åŠ è½½-grunt-æ’ä»¶å’Œä»»åŠ¡"><span class="icon icon-link"></span></a>åŠ è½½ Grunt æ’ä»¶å’Œä»»åŠ¡</h3><p>åƒ concatenationã€minificationã€grunt-contrib-uglify å’Œ linting è¿™äº›å¸¸ç”¨çš„ä»»åŠ¡ï¼ˆtaskï¼‰éƒ½å·²ç»ä»¥ Grunt æ’ä»¶çš„å½¢å¼è¢«å¼€å‘å‡ºæ¥äº†ã€‚åªè¦åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­è¢«åˆ—ä¸º <code>dependency</code>ï¼ˆä¾èµ–ï¼‰çš„åŒ…ï¼Œå¹¶é€šè¿‡ <code>npm install</code> å®‰è£…ä¹‹åï¼Œéƒ½å¯ä»¥åœ¨ Gruntfile ä¸­ä»¥ç®€å•å‘½ä»¤çš„å½¢å¼ä½¿ç”¨ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// åŠ è½½èƒ½å¤Ÿæä¾›&quot;uglify&quot;ä»»åŠ¡çš„æ’ä»¶ã€‚
grunt.loadNpmTasks(&#x27;grunt-contrib-uglify&#x27;);
" data-status="copy"></button><div class="token-line"><span class="token comment">// åŠ è½½èƒ½å¤Ÿæä¾›&quot;uglify&quot;ä»»åŠ¡çš„æ’ä»¶ã€‚</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">grunt</span><span class="token punctuation">.</span><span class="token method function property-access">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">&#x27;grunt-contrib-uglify&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>æ³¨æ„ï¼š<code>grunt --help</code> å‘½ä»¤å°†åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ä»»åŠ¡ã€‚</p><h3 id="è‡ªå®šä¹‰ä»»åŠ¡"><a aria-hidden="true" href="#è‡ªå®šä¹‰ä»»åŠ¡"><span class="icon icon-link"></span></a>è‡ªå®šä¹‰ä»»åŠ¡</h3><p>é€šè¿‡å®šä¹‰ <code>default</code> ä»»åŠ¡ï¼Œå¯ä»¥è®© Grunt é»˜è®¤æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡ã€‚åœ¨ä¸‹é¢çš„è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæ‰§è¡Œ <code>grunt</code> å‘½ä»¤æ—¶å¦‚æœä¸æŒ‡å®šä¸€ä¸ªä»»åŠ¡çš„è¯ï¼Œå°†ä¼šæ‰§è¡Œ <code>uglify</code> ä»»åŠ¡ã€‚è¿™å’Œæ‰§è¡Œ <code>grunt uglify</code> æˆ–è€… <code>grunt default</code> çš„æ•ˆæœä¸€æ ·ã€‚<code>default</code> ä»»åŠ¡åˆ—è¡¨æ•°ç»„ä¸­å¯ä»¥æŒ‡å®šä»»æ„æ•°ç›®çš„ä»»åŠ¡ï¼ˆå¯ä»¥å¸¦å‚æ•°ï¼‰ã€‚</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// Default task(s).
grunt.registerTask(&#x27;default&#x27;, [&#x27;uglify&#x27;]);
" data-status="copy"></button><div class="token-line"><span class="token comment">// Default task(s).</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">grunt</span><span class="token punctuation">.</span><span class="token method function property-access">registerTask</span><span class="token punctuation">(</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;uglify&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>å¦‚æœ Grunt æ’ä»¶ä¸­çš„ä»»åŠ¡ï¼ˆtaskï¼‰ä¸èƒ½æ»¡è¶³ä½ çš„é¡¹ç›®éœ€æ±‚ï¼Œä½ è¿˜å¯ä»¥åœ¨ Gruntfile ä¸­è‡ªå®šä¹‰ä»»åŠ¡ï¼ˆtaskï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ Gruntfile ä¸­è‡ªå®šä¹‰äº†ä¸€ä¸ª <code>default</code> ä»»åŠ¡ï¼Œå¹¶ä¸”ä»–ç”šè‡³ä¸ä¾èµ–ä»»åŠ¡é…ç½®ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = function(grunt) {
  // A very basic default task.
  grunt.registerTask(&#x27;default&#x27;, &#x27;Log some stuff.&#x27;, function() {
    grunt.log.write(&#x27;Logging some stuff...&#x27;).ok();
  });
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grunt</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// A very basic default task.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  grunt</span><span class="token punctuation">.</span><span class="token method function property-access">registerTask</span><span class="token punctuation">(</span><span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;Log some stuff.&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    grunt</span><span class="token punctuation">.</span><span class="token property-access">log</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token string">&#x27;Logging some stuff...&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>ç‰¹å®šäºé¡¹ç›®çš„ä»»åŠ¡ä¸å¿…åœ¨ Gruntfile ä¸­å®šä¹‰ã€‚ä»–ä»¬å¯ä»¥å®šä¹‰åœ¨å¤–éƒ¨ <code>.js</code> æ–‡ä»¶ä¸­ï¼Œå¹¶é€šè¿‡ <code>grunt.loadTasks</code> æ–¹æ³•åŠ è½½ã€‚</p><hr/><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><ul><li><a href="https://www.w3cplus.com/tools/writing-awesome-build-script-grunt.html" target="_blank" rel="noopener noreferrer">ğŸ“ ä½¿ç”¨ Grunt æ„å»ºä»»åŠ¡ç®¡ç†è„šæœ¬<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://segmentfault.com/a/1190000005029360" target="_blank" rel="noopener noreferrer">ğŸ“ æœ‰å…³ Grunt - è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·çš„å¥‡æŠ€æ·«å·§<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/Webpack-Guidebook/edit/master/docs/basic-summary/basic-concepts/grunt.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/18/2020, 10:19:07 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/webpack-guidebook/umi.js"></script>
    <script src="/webpack-guidebook/docs__basic-summary__basic-concepts__grunt.md.js"></script>
  </body>
</html>
