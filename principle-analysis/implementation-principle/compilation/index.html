<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/webpack-guidebook/umi.css" />
    <script>
      window.routerBase = "/webpack-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.20
    </script>
    <title>Compilation</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//">Webpack Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/webpack-guidebook//basic-summary">åŸºæœ¬ç»¼è¿°</a><a aria-current="page" class="active" href="/webpack-guidebook//principle-analysis">åŸç†åˆ†æ</a><a href="/webpack-guidebook//best-practice">æœ€ä½³å®è·µ</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/webpack-guidebook-favicon.svg&#x27;)" href="/webpack-guidebook//"></a><h1>Webpack Guidebook</h1><p>Webpack å®Œå…¨çŸ¥è¯†ä½“ç³»</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/webpack-guidebook//basic-summary">åŸºæœ¬ç»¼è¿°</a></li><li><a aria-current="page" class="active" href="/webpack-guidebook//principle-analysis">åŸç†åˆ†æ</a></li><li><a href="/webpack-guidebook//best-practice">æœ€ä½³å®è·µ</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/webpack-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/webpack-guidebook//principle-analysis/babel">Babel</a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle">å·¥ä½œåŸç†</a><ul><li><a href="/webpack-guidebook//principle-analysis/operational-principle/file-watch"><span>æ–‡ä»¶ç›‘å¬</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/hot-module-replacement"><span>æ¨¡å—çƒ­æ›´æ–°</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/filenames-hashes"><span>æ–‡ä»¶æŒ‡çº¹ç­–ç•¥</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/tree-shaking"><span>Tree Shaking</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/scope-hoisting"><span>ä½œç”¨åŸŸæå‡</span></a></li><li><a href="/webpack-guidebook//principle-analysis/operational-principle/sourcemap"><span>SourceMap</span></a></li></ul></li><li><a aria-current="page" class="active" href="/webpack-guidebook//principle-analysis/implementation-principle">åº•å±‚åŸç†</a><ul><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/workflow"><span>æ„å»ºæµç¨‹</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/simple-implementation"><span>ç®€æ˜“å®ç°</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/source-code-analysis"><span>æºç åˆ†æ</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/tapable"><span>Tapable</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/compiler"><span>Compiler</span></a></li><li><a aria-current="page" class="active" href="/webpack-guidebook//principle-analysis/implementation-principle/compilation"><span>Compilation</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/loader"><span>Loader æœºåˆ¶</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/plugin"><span>Plugin æœºåˆ¶</span></a></li><li><a href="/webpack-guidebook//principle-analysis/implementation-principle/ast"><span>æŠ½è±¡è¯­æ³•æ ‘</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="compilation"><a aria-hidden="true" href="#compilation"><span class="icon icon-link"></span></a>Compilation</h1><p><code>Compilation</code> æ¨¡å—ä¼šè¢« <code>Compiler</code> ç”¨æ¥åˆ›å»ºæ–°çš„ç¼–è¯‘ï¼ˆæˆ–æ–°çš„æ„å»ºï¼‰ã€‚<code>compilation</code> å®ä¾‹èƒ½å¤Ÿè®¿é—®æ‰€æœ‰çš„æ¨¡å—å’Œå®ƒä»¬çš„ä¾èµ–ï¼ˆå¤§éƒ¨åˆ†æ˜¯å¾ªç¯ä¾èµ–ï¼‰ã€‚å®ƒä¼šå¯¹åº”ç”¨ç¨‹åºçš„ä¾èµ–å›¾ä¸­æ‰€æœ‰æ¨¡å—è¿›è¡Œå­—é¢ä¸Šçš„ <strong>ç¼–è¯‘ï¼ˆiteral compilationï¼‰</strong>ã€‚åœ¨ç¼–è¯‘é˜¶æ®µï¼Œæ¨¡å—ä¼šè¢« <strong>åŠ è½½ï¼ˆloadedï¼‰</strong>ã€<strong>å°å­˜ï¼ˆsealedï¼‰</strong>ã€<strong>ä¼˜åŒ–ï¼ˆoptimizedï¼‰</strong>ã€<strong>åˆ†å—ï¼ˆchunkedï¼‰</strong>ã€<strong>å“ˆå¸Œï¼ˆhashedï¼‰</strong> å’Œ <strong>é‡æ–°åˆ›å»ºï¼ˆrestoredï¼‰</strong>ã€‚</p><p><code>Compilation</code> ç±»æ‰©å±•ï¼ˆextendï¼‰è‡ª <code>Tapable</code>ï¼Œå¹¶æä¾›äº†ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚å¯ä»¥æŒ‰ç…§ <code>compiler</code> é’©å­çš„ç›¸åŒæ–¹å¼ï¼Œè°ƒç”¨ <code>tap</code>ï¼š</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="compilation.hooks.someHook.tap(...)
" data-status="copy"></button><div class="token-line"><span class="token plain">compilation</span><span class="token punctuation">.</span><span class="token property-access">hooks</span><span class="token punctuation">.</span><span class="token property-access">someHook</span><span class="token punctuation">.</span><span class="token method function property-access">tap</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>å’Œ <code>compiler</code> ç”¨æ³•ç›¸åŒï¼Œå–å†³äºä¸åŒçš„é’©å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥åœ¨æŸäº›é’©å­ä¸Šè®¿é—® <code>tapAsync</code> å’Œ <code>tapPromise</code>ã€‚</p><table><thead><tr><th>äº‹ä»¶åç§°</th><th>å†…å®¹è¯´æ˜</th><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td><code>buildModule</code></td><td>åœ¨æ¨¡å—æ„å»ºå¼€å§‹ä¹‹å‰è§¦å‘</td><td><code>module</code></td><td>Sync</td></tr><tr><td><code>rebuildModule</code></td><td>åœ¨é‡æ–°æ„å»ºæ¨¡å—ä¹‹å‰è§¦å‘</td><td><code>module</code></td><td>Sync</td></tr><tr><td><code>failModule</code></td><td>æ¨¡å—æ„å»ºå¤±è´¥æ—¶æ‰§è¡Œ</td><td><code>module</code> <code>error</code></td><td>Sync</td></tr><tr><td><code>succeedModule</code></td><td>æ¨¡å—æ„å»ºæˆåŠŸæ—¶æ‰§è¡Œ</td><td><code>module</code></td><td>Sync</td></tr><tr><td><code>finishModules</code></td><td>æ‰€æœ‰æ¨¡å—éƒ½å®Œæˆæ„å»º</td><td><code>modules</code></td><td>Sync</td></tr><tr><td><code>finishRebuildingModule</code></td><td>æ¨¡å—å®Œæˆé‡æ–°æ„å»º</td><td><code>module</code></td><td>Sync</td></tr><tr><td><code>seal</code></td><td>compilation åœæ­¢æ¥æ”¶æ–°æ¨¡å—æ—¶è§¦å‘</td><td>-</td><td>Sync</td></tr><tr><td><code>unseal</code></td><td>compilation å¼€å§‹æ¥æ”¶æ–°æ¨¡å—æ—¶è§¦å‘</td><td>-</td><td>Sync</td></tr><tr><td><code>optimizeDependenciesBasic</code></td><td>-</td><td><code>modules</code></td><td>SyncBail</td></tr><tr><td><code>optimizeDependencies</code></td><td>ä¾èµ–ä¼˜åŒ–å¼€å§‹æ—¶è§¦å‘</td><td><code>modules</code></td><td>SyncBail</td></tr><tr><td><code>optimizeDependenciesAdvanced</code></td><td>-</td><td><code>modules</code></td><td>SyncBail</td></tr><tr><td><code>afterOptimizeDependencies</code></td><td>-</td><td><code>modules</code></td><td>Sync</td></tr><tr><td><code>optimize</code></td><td>ä¼˜åŒ–é˜¶æ®µå¼€å§‹è§¦å‘</td><td>-</td><td>Sync</td></tr><tr><td><code>optimizeModulesBasic</code></td><td>-</td><td><code>modules</code></td><td>SyncBail</td></tr><tr><td><code>optimizeModules</code></td><td>-</td><td><code>modules</code></td><td>SyncBail</td></tr><tr><td><code>optimizeModulesAdvanced</code></td><td>-</td><td><code>modules</code></td><td>SyncBail</td></tr><tr><td><code>afterOptimizeModules</code></td><td>-</td><td><code>modules</code></td><td>Sync</td></tr><tr><td><code>optimizeChunksBasic</code></td><td>-</td><td><code>chunks</code></td><td>SyncBail</td></tr><tr><td><code>optimizeChunks</code></td><td>-</td><td><code>chunks</code></td><td>SyncBail</td></tr><tr><td><code>optimizeChunksAdavanced</code></td><td>-</td><td><code>chunks</code></td><td>SyncBail</td></tr><tr><td><code>afterOptimizeChunks</code></td><td>chunk ä¼˜åŒ–å®Œæˆä¹‹åè§¦å‘</td><td><code>chunks</code> <code>modules</code></td><td>Sync</td></tr><tr><td><code>optimizeTree</code></td><td>å¼‚æ­¥ä¼˜åŒ–ä¾èµ–æ ‘</td><td><code>chunks</code> <code>modules</code></td><td>AsyncSeries</td></tr><tr><td><code>afterOptimizeTree</code></td><td>-</td><td><code>chunks</code> <code>modules</code></td><td>Sync</td></tr><tr><td><code>optimizeChunkModulesBasic</code></td><td>-</td><td><code>chunks</code> <code>modules</code></td><td>SyncBail</td></tr><tr><td><code>optimizeChunkModules</code></td><td>-</td><td><code>chunks</code> <code>modules</code></td><td>Sync</td></tr><tr><td><code>optimizeChunkModulesAdvanced</code></td><td>-</td><td><code>chunks</code> <code>modules</code></td><td>SyncBail</td></tr><tr><td><code>afterOptimizeChunkModules</code></td><td>-</td><td><code>chunks</code> <code>modules</code></td><td>Sync</td></tr><tr><td><code>shouldRecord</code></td><td>-</td><td>-</td><td>SyncBail</td></tr><tr><td><code>reviveModules</code></td><td>ä» records ä¸­æ¢å¤æ¨¡å—ä¿¡æ¯</td><td><code>modules</code> <code>record</code></td><td>Sync</td></tr><tr><td><code>optimizeModuleOrder</code></td><td>å°†æ¨¡å—ä»æœ€é‡è¦çš„æœ€ä¸é‡è¦çš„è¿›è¡Œæ’åº</td><td><code>modules</code></td><td>Sync</td></tr><tr><td><code>advancedOptimizeModuleOrder</code></td><td>-</td><td><code>modules</code></td><td>Sync</td></tr><tr><td><code>beforeModuleIds</code></td><td>-</td><td><code>modules</code></td><td>Sync</td></tr><tr><td><code>moduleIds</code></td><td>-</td><td><code>modules</code></td><td>Sync</td></tr><tr><td><code>optimizeModuleIds</code></td><td>-</td><td><code>chunks</code></td><td>Sync</td></tr><tr><td><code>afterOptimizeModuleIds</code></td><td>-</td><td><code>chunks</code></td><td>Sync</td></tr><tr><td><code>reviveChunks</code></td><td>ä» records ä¸­æ¢å¤ chunk ä¿¡æ¯</td><td><code>modules</code> å’Œ <code>records</code></td><td>Sync</td></tr><tr><td><code>optimizeChunkOrder</code></td><td>å°† chunk ä»æœ€é‡è¦çš„åˆ°æœ€ä¸é‡è¦çš„è¿›è¡Œæ’åº</td><td><code>chunks</code></td><td>Sync</td></tr><tr><td><code>beforeOptimizeChunkIds</code></td><td>chunk id ä¼˜åŒ–ä¹‹å‰è§¦å‘</td><td><code>chunks</code></td><td>Sync</td></tr><tr><td><code>optimizeChunkIds</code></td><td>ä¼˜åŒ–æ¯ä¸ª chunk çš„ id</td><td><code>chunks</code></td><td>Sync</td></tr><tr><td><code>afterOptimizeChunkIds</code></td><td>chunk id ä¼˜åŒ–å®Œæˆä¹‹åè§¦å‘</td><td><code>chunks</code></td><td>Sync</td></tr><tr><td><code>recordModules</code></td><td>å°†æ¨¡å—ä¿¡æ¯å­˜å‚¨åˆ° records</td><td><code>modules</code> å’Œ <code>records</code></td><td>Sync</td></tr><tr><td><code>recordChunks</code></td><td>å°† chunk ä¿¡æ¯å­˜å‚¨åˆ° records</td><td><code>chunks</code> å’Œ <code>records</code></td><td>Sync</td></tr><tr><td><code>beforeHash</code></td><td>åœ¨ç¼–è¯‘è¢«å“ˆå¸Œä¹‹å‰</td><td>-</td><td>Sync</td></tr><tr><td><code>afterHash</code></td><td>åœ¨ç¼–è¯‘è¢«å“ˆå¸Œä¹‹å</td><td>-</td><td>Sync</td></tr><tr><td><code>recordHash</code></td><td>-</td><td><code>records</code></td><td>Sync</td></tr><tr><td><code>record</code></td><td>å°† compliaztion ç›¸å…³ä¿¡æ¯å­˜å‚¨åˆ° records ä¸­</td><td><code>compilation</code> å’Œ <code>records</code></td><td>Sync</td></tr><tr><td><code>beforeModuleAssets</code></td><td>-</td><td>-</td><td>Sync</td></tr><tr><td><code>shouldGenerateChunkAssets</code></td><td>-</td><td>-</td><td>SyncBail</td></tr><tr><td><code>beforeChunkAssets</code></td><td>åœ¨åˆ›å»º chunk èµ„æºï¼ˆassetsï¼‰ä¹‹å‰</td><td>-</td><td>Sync</td></tr><tr><td><code>additionalChunkAssets</code></td><td>ä¸º chunk åˆ›å»ºé™„åŠ èµ„æºï¼ˆassetï¼‰</td><td><code>chunks</code></td><td>Sync</td></tr><tr><td><code>recordss</code></td><td>-</td><td><code>compilation</code> å’Œ <code>records</code></td><td>Sync</td></tr><tr><td><code>additionalAssets</code></td><td>ä¸º compilation åˆ›å»ºé™„åŠ èµ„æºï¼ˆassetï¼‰è¿™ä¸ªé’©å­å¯ä»¥ç”¨æ¥ä¸‹è½½å›¾åƒã€‚</td><td>-</td><td>AsyncSeries</td></tr><tr><td><code>optimizeChunkAssets</code></td><td>ä¼˜åŒ–æ‰€æœ‰ chunk èµ„æºï¼ˆassetï¼‰ã€‚èµ„æºä¼šè¢«å­˜å‚¨åœ¨ <code>compilation.assets</code>ã€‚æ¯ä¸ª Chunk éƒ½æœ‰ä¸€ä¸ª files å±æ€§ï¼ŒæŒ‡å‘è¿™ä¸ª chunk æ‰€åˆ›å»ºçš„æ‰€æœ‰æ–‡ä»¶ã€‚é™„åŠ èµ„æºè¢«å­˜å‚¨åœ¨ <code>compilation.additionalChunkAssets</code></td><td><code>chunks</code></td><td>AsyncSeries</td></tr><tr><td><code>afterOptimizeChunkAssets</code></td><td>chunk èµ„æºï¼ˆAssetï¼‰å·²ç»è¢«ä¼˜åŒ–</td><td><code>chunks</code></td><td>Sync</td></tr><tr><td><code>optimizeAssets</code></td><td>ä¼˜åŒ–å­˜å‚¨åœ¨ <code>compilation.assets</code> ä¸­çš„æ‰€æœ‰èµ„æºï¼ˆAssetï¼‰</td><td><code>assets</code></td><td>AsyncSeries</td></tr><tr><td><code>afterOptimizeAssets</code></td><td>èµ„æºä¼˜åŒ–å·²ç»ç»“æŸ</td><td><code>assets</code></td><td>Sync</td></tr><tr><td><code>needAdditionalSeal</code></td><td>-</td><td>-</td><td>SyncBail</td></tr><tr><td><code>afterSeal</code></td><td>-</td><td>-</td><td>AsyncSeries</td></tr><tr><td><code>chunkHash</code></td><td>-</td><td><code>chunk</code> å’Œ <code>chunkHash</code></td><td>Sync</td></tr><tr><td><code>moduleAsset</code></td><td>ä¸€ä¸ªæ¨¡å—ä¸­çš„ä¸€ä¸ªèµ„æºè¢«æ·»åŠ åˆ°ç¼–è¯‘ä¸­</td><td><code>module</code> å’Œ <code>filename</code></td><td>Sync</td></tr><tr><td><code>chunkAsset</code></td><td>ä¸€ä¸ª chunk ä¸­çš„ä¸€ä¸ªèµ„æºè¢«æ·»åŠ åˆ°ç¼–è¯‘ä¸­</td><td><code>chunk</code> å’Œ <code>filename</code></td><td>Sync</td></tr><tr><td><code>assetPath</code></td><td>-</td><td><code>filename</code> å’Œ <code>data</code></td><td>SyncWaterfall</td></tr><tr><td><code>needAdditionalPass</code></td><td>-</td><td>-</td><td>SyncBail</td></tr><tr><td><code>childCompiler</code></td><td>-</td><td><code>childCompiler</code>ã€<code>compilerName</code> å’Œ <code>compilerIndex</code></td><td>SyncHook</td></tr><tr><td><code>normalModuleLoader</code></td><td>æ™®é€šæ¨¡å— loaderï¼ŒçœŸæ­£ï¼ˆä¸€ä¸ªæ¥ä¸€ä¸ªåœ°ï¼‰åŠ è½½æ¨¡å—å›¾ï¼ˆGraphï¼‰ä¸­æ‰€æœ‰æ¨¡å—çš„å‡½æ•°</td><td><code>loaderContext</code> å’Œ <code>module</code></td><td>Sync</td></tr></tbody></table><hr/><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p><ul><li><a href="https://webpack.docschina.org/api/compilation/" target="_blank" rel="noopener noreferrer">ğŸ“– Compilation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/Webpack-Guidebook/edit/master/docs/principle-analysis/implementation-principle/compilation.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">9/18/2020, 10:19:07 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/webpack-guidebook/umi.js"></script>
    <script src="/webpack-guidebook/docs__principle-analysis__implementation-principle__compilation.md.js"></script>
  </body>
</html>
