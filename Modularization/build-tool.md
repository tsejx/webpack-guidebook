# 构建工具

**构建**其实是**工程化**、**自动化**思想在前端开发中的体现，**把一系列流程用代码实现，让代码自动化地执行一系列复杂的流程**。

## 常见功能

- **代码转换**：TypeScript 编译成 JavaScript、SCSS 编译成 CSS 等。
- **文件优化**：压缩 JavaScript、CSS、HTML 代码，压缩合并图片等。
- **代码分割**：提取多个页面的公共代码、提取首屏不需要执行部分的代码让其异步加载。
- **模块合并**：在采用模块化的项目里会有很多个模块和文件，需要构建功能把模块分类合并成一个文件。
- **自动刷新**：监听本地源代码的变化，自动重新构建、刷新浏览器。
- **代码校验**：在代码被提交到仓库前需要校验代码是否符合规范，以及单元测试是否通过。
- **自动发布**：更新完代码后，自动构建出线上发布代码并传输给发布系统。

## 常用工具

### NPM Script

- NodeJS 附带的包管理器（内置）
- 功能简单，不能方便地管理多个任务之间的依赖
- 配置文件：`package.json`
- 调用 Shell 脚本运行脚本命令

### Grunt

- 灵活，只负责执行已定义任务
- 大量可复用插件封装了常见任务，也能管理任务间依赖关系
- 集成度不高，很多需要配置后使用，无法做到开箱即用
- 配置文件：`Gruntfile.js`

### Gulp

传送门：[Glup 中文网](https://www.gulpjs.com.cn/)

与 Grunt 类似，集成度不高，需配置使用，可堪称 Grunt 加强版

Glup 就像是一个产品的流水线，整个产品从无到有，都要受流水线的控制，在流水线上我们可以对产品进行管理。

### Webpack

能将许多松散的模块按照依赖和规则打包成符合生产环境的前端资源。

还可以将按需加载的模块进行代码分割，等到实际需要的时候再异步加载。

- 专注于处理模块化的项目，能做到开箱即用、一步到位
- 可通过 Plugin 扩展，完整好用又不失灵活
- 使用场景不局限于 Web 开发
- 社区庞大成熟

### Rollup

- 能针对 ES6 源码去除已被定义但未被使用代码 TreeShaking => ScopeHoisting 减少输出文件体积 提升运行性能
- 用于打包 JavaScript 库时比 Webpack 更有优势

## 构建工具对比

|          |                  Glup                  |                    Webpack                     |
| :------: | :------------------------------------: | :--------------------------------------------: |
|  侧重点  | 侧重于前端开发的**整个过程**的控制管理 |     更侧重于将开发中的所有资源**转译打包**     |
| 管理方法 |     **Task 配置**的路径下所有文件      | 根据模块的**依赖关系**静态分析（入口文件决定） |

拓展资料：[Gulp 与 Webpack 深度对比](https://www.cnblogs.com/RuMengkai/p/6667321.html)
